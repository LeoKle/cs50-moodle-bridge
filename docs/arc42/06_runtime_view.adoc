ifndef::imagesdir[:imagesdir: ../images]

[[section-runtime-view]]
== Runtime View


ifdef::arc42help[]
[role="arc42help"]
****
.Contents
The runtime view describes concrete behavior and interactions of the systemâ€™s building blocks in form of scenarios from the following areas:

* important use cases or features: how do building blocks execute them?
* interactions at critical external interfaces: how do building blocks cooperate with users and neighboring systems?
* operation and administration: launch, start-up, stop
* error and exception scenarios

Remark: The main criterion for the choice of possible scenarios (sequences, workflows) is their *architectural relevance*. It is *not* important to describe a large number of scenarios. You should rather document a representative selection.

.Motivation
You should understand how (instances of) building blocks of your system perform their job and communicate at runtime.
You will mainly capture scenarios in your documentation to communicate your architecture to stakeholders that are less willing or able to read and understand the static models (building block view, deployment view).

.Form
There are many notations for describing scenarios, e.g.

* numbered list of steps (in natural language)
* activity diagrams or flow charts
* sequence diagrams
* BPMN or EPCs (event process chains)
* state machines
* ...


.Further Information

See https://docs.arc42.org/section-6/[Runtime View] in the arc42 documentation.

****
endif::arc42help[]

=== Scenario 1: Course Creation

1. A tutor sends a request to the Course Controller to create a new course.
2. The Course Controller validates the request data.
3. The request is forwarded to the Course Management Service.
4. The service creates the course and stores it via the course repository.
5. The API returns a success response to the tutor.

=== Scenario 2: Student Import

1. A tutor uploads a student list or triggers a student import.
2. The Student Import Controller validates the input data.
3. The request is forwarded to the Student Import Service.
4. The service processes and normalizes student data.
5. Student data is stored via the student repository.
6. The API returns an import summary to the tutor.

=== Scenario 3: Enrollment Management

1. A tutor assigns students to a course.
2. The Enrollment Controller validates the request.
3. The Enrollment Management Service creates enrollment records.
4. Enrollment data is stored via the enrollment repository.
5. The API confirms the successful enrollment.

=== Scenario 4: CS50 Submission Import

1. A tutor uploads CS50 submission data.
2. The Submission Controller validates the uploaded data.
3. The Submission Processing Service parses and normalizes submissions.
4. Submission data is stored via the submission repository.
5. The API confirms successful submission import.

=== Scenario 5: Grading

1. The Grading Service retrieves submissions for a course.
2. Grading rules are applied to determine pass or fail results.
3. Grading results are stored via the grading repository.
4. A grading summary is prepared for export.

=== Scenario 6: Grade Export to Moodle

1. A tutor triggers grade export.
2. The Grading and Export Controller initiates the export process.
3. The Moodle integration component formats grading data.
4. Grades are transmitted to Moodle.
5. The system reports the export status to the tutor.

=== Error Handling Scenario

1. An invalid or incomplete request is received.
2. The controller detects the error during validation.
3. The request is rejected with an appropriate HTTP status code.
4. No data is persisted in case of errors.

